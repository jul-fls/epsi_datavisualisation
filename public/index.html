<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Accidents corporels de la circulation routière en 2022</title>
        <meta name="description" content="Visualisation Data des accidents en France">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/public/css/output.css">
        <link rel="stylesheet" href="/public/css/styles.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="/chartjs/chart.umd.js" async defer></script>
        <script src="https://unpkg.com/chartjs-plugin-datalabels"></script>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    </head>
    <body>
        <h1 class="text-3xl text-center font-bold py-8">Accidents corporels de la circulation routière en 2022</h1>
        
        <div class="justify-center items-center grid grid-cols-5 grid-rows-3 gap-4 p-4" style="height:90vh;">
            <div class="col-span-1 row-span-1 flex flex-col text-center h-full justify-center items-center p-auto border-4 border-solid border-gray-500 rounded-xl">
                <h2 class="text-2xl font-bold text-center">Nombre d'accidents</h2>
                <span id="nb_accidents" class="text-2xl font-bold text-center">0</span>
            </div>
            <div class="col-start-1 col-span-1 row-span-1 row-start-2 text-center h-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="genderChartPercent" class="w-full my-4"></canvas>
            </div>
            <div class="col-start-1 col-span-1 row-start-3 row-span-1 text-center h-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="cityChartPercent" class="w-full my-4"></canvas>
            </div>
            <div class="col-span-4 row-span-3 col-start-2 row-start-1 text-center h-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <div id="carte_des_accidents_routiers" style="width:100%; height:100%; visibility:hidden"></div>
            </div>
        </div>

        <hr class="w-4/5 mx-auto mt-4 border-t-8 border-gray-500 rounded-full">
        <h1 class="w-full text-center text-3xl font-bold pb-8 pt-4">Détails</h1>

        <div class="justify-center items-center grid grid-cols-3 grid-rows-3 gap-4 p-4 w-full" style="height:90vh;">
            <div class="text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="cityChartQuantity" class="w-full my-4"></canvas>
            </div>
            <div class="text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="genderChartQuantity" class="w-full my-4"></canvas>
            </div>
            <div class="text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="repartition_motifs_trajets" class="w-full my-4"></canvas>
            </div>              
            <div class="row-start-2 text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="nb_accidents_par_nb_usagers_impliques" class="w-full my-4"></canvas>
            </div>
            <div class="row-start-2 text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="impact_lumiere_accidents" class="w-full my-4"></canvas>
            </div>
            <div class="row-start-2 text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <canvas id="nb_accidents_par_mois" class="w-full my-4"></canvas>
            </div>
            <div class="col-span-3 row-start-3 text-center h-full w-full p-auto border-4 border-solid border-gray-500 rounded-xl">
                <!-- <canvas id="evolution_nb_accidents_annuellement" class="w-full my-4"></canvas> -->
            </div>
        </div>
        <script>
            Swal.fire({
                title: 'Loading...',
                // text: 'Please wait while we fetch the data',
                allowEscapeKey: false,
                allowOutsideClick: false,
                didOpen: () => {
                    swal.showLoading();
                },
            });
        </script>
        <script src="public/js/carte_des_accidents_routiers.js"></script>
        <script src="public/js/nb_accidents.js"></script>
        <script src="public/js/repartition_sexe_percent.js"></script>
        <script src="public/js/repartition_sexe_quantity.js"></script>
        <script src="public/js/repartition_agglomeration_percent.js"></script>
        <script src="public/js/repartition_agglomeration_quantity.js"></script>
        <script src="public/js/repartition_motifs_trajets.js"></script>
        <script src="public/js/nb_accidents_par_nb_usagers_impliques.js"></script>
        <script src="public/js/impact_lumiere_accidents.js"></script>
        <script src="public/js/evolution_nb_accidents_par_mois.js"></script>
    </body>
</html>